import{a as g,c as h,e as k,F as S,S as v,u as A,_ as C}from"./repository-BhapuSZn.js";import{d as _,e as m,i as b,f as t,w as n,l as i,u as c,k as p,o as x,r as $,c as w,a as N,b as P}from"./index-Tdm0z-td.js";const B="/assets/image-2-DGCDjEhA.png",D=_({__name:"SuccessfulScreen",props:{handlerAction:{}},setup(u){const r=u;return(l,e)=>(m(),b("div",null,[t(c(h),null,{title:n(()=>[e[1]||(e[1]=i("Appuyez sur le bouton ")),t(c(g),{tag:"span",size:"h1",color:"success",weight:"black"},{default:n(()=>e[0]||(e[0]=[i("vert")])),_:1}),e[2]||(e[2]=i(" de la machine Kaynann pour commencer le remplissage."))]),_:1}),e[3]||(e[3]=p("div",{class:"successful-screen__body"},[p("img",{src:B,alt:"successful",class:"successful-page__screen__image"})],-1)),t(c(S),null,{default:n(()=>[t(c(k),{onClick:r.handlerAction,text:"Ajouter plus d'argent",type:"secondary"},null,8,["onClick"])]),_:1})]))}}),V=_({__name:"SuccessfulPage",setup(u){const r=N(),l=P(),e=()=>{const s=r.query.did;l.push({path:`/start/${s}`})};x(async()=>{await f()});const d=$({displayHeader:!1}),f=async()=>{const s=r.query.did;try{const{data:a}=await v.checkDevice({deviceId:s});a.success&&(y(a.data),d.displayHeader=!0)}catch(a){console.log(a)}},o=A(),y=s=>{o.costPerUnit=s.price,o.currencyName=s.currencyCode.toUpperCase(),o.ATMNumber=s.number};return(s,a)=>(m(),w(c(C),{"display-header":d.displayHeader},{default:n(()=>[t(D,{"handler-action":e})]),_:1},8,["display-header"]))}});export{V as default};
