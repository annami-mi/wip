import{c as k,e as b,F as v,S as g,u as h,_ as x}from"./repository-BhapuSZn.js";import{d as p,e as _,i as C,f as r,w as o,l as u,u as c,k as d,o as N,r as P,c as S,a as A,b as $}from"./index-Tdm0z-td.js";const j="/assets/image-5-kIFRAKyv.png",w=p({__name:"EnjoyScreen",props:{handlerAction:{}},setup(l){const a=l;return(n,e)=>(_(),C("div",null,[r(c(k),null,{title:o(()=>e[0]||(e[0]=[u("Profitez de votre eau potable")])),description:o(()=>e[1]||(e[1]=[u("N'oubliez pas de retirer la bouteille")])),_:1}),e[2]||(e[2]=d("div",{class:"enjoy-screen__body"},[d("img",{src:j,alt:"successful",class:"enjoy-screen__body__image"})],-1)),r(c(v),null,{default:o(()=>[r(c(b),{onClick:a.handlerAction,text:"Merci de recommencer",type:"primary"},null,8,["onClick"])]),_:1})]))}}),F=p({__name:"EnjoyPage",setup(l){N(async()=>{await e()});const a=P({displayHeader:!1}),n=A(),e=async()=>{const s=n.query.id;try{const{data:t}=await g.checkDevice({deviceId:s});t.success&&(m(t.data),a.displayHeader=!0)}catch(t){console.log(t)}},i=h(),m=s=>{i.costPerUnit=s.price,i.currencyName=s.currencyCode.toUpperCase(),i.ATMNumber=s.number},y=()=>{const s=n.query.id;f.push({path:`/start/${s}`})},f=$();return(s,t)=>(_(),S(c(x),{"display-header":a.displayHeader},{default:o(()=>[r(w,{"handler-action":y})]),_:1},8,["display-header"]))}});export{F as default};
